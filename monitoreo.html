<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOGLAND - Monitoreo 24/7</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <link rel="icon" type="image/png" href="logo.png">
    
    <meta property="og:title" content="DOGLAND | Monitoreo 24/7">
    <meta property="og:description" content="La Ãºnica guarderia que te da acceso en vivo a tu mascota. Cuidado experto y tranquilidad total.">
    <meta property="og:image" content="https://loredojuanlz.github.io/DOGLAND/logo.png"> <meta property="og:url" content="https://loredojuanlz.github.io/DOGLAND">
    <meta property="og:type" content="website">
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
</head>
<body>

    <header class="header-monitoreo">
        <nav class="navbar-monitoreo">
            <div class="logo">DOGLAND ğŸ¾</div>
            <ul class="nav-links">
                <li><a href="index.html">â† Volver</a></li>
            </ul>
        </nav>
    </header>

 <main class="main-monitoreo">
        
        <div class="monitoreo-container" id="menu-selection">
            <h1>Centro de Monitoreo</h1>
            <p class="subtitle">Seleccione el modo de operaciÃ³n</p>
            
            <div class="card-grid">
                <div class="access-card live-view">
                    <div class="card-icon animated-icon-container">
                        <div class="monitor-anim">
                            <div class="monitor-screen"><div class="play-btn">â–¶</div></div>
                            <div class="monitor-stand"></div>
                        </div>
                    </div>
                    <h2>Soy el DueÃ±o</h2>
                    <p>Ver el mapa de instalaciones.</p>
                    <button class="btn-main-monitoreo" onclick="uiShowMap()">Abrir Mapa</button>
                </div>

                <div class="access-card registration">
                    <div class="card-icon animated-icon-container">
                         <div class="camera-anim">
                            <div class="cam-body"><div class="cam-lens"></div><div class="cam-rec-dot"></div></div>
                        </div>
                    </div>
                    <h2>Soy la CÃ¡mara</h2>
                    <p>Solo personal autorizado.</p>
                    <button class="btn-secondary-monitoreo" onclick="uiShowLogin()">Acceso Admin</button>
                </div>
            </div>
        </div>

        <div class="form-container hidden" id="admin-login-form">
            <h2>ğŸ”’ Acceso Restringido</h2>
            <p>Ingrese credenciales de administrador</p>
            <input type="text" id="admin-user" placeholder="Usuario" class="input-field">
            <input type="password" id="admin-pass" placeholder="ContraseÃ±a" class="input-field">
            
            <div class="button-group">
                <button class="btn-secondary-monitoreo" onclick="uiGoBack()">Cancelar</button>
                <button class="btn-main-monitoreo" onclick="checkAdminAuth()">Ingresar</button>
            </div>
        </div>

        <div class="form-container hidden" id="register-form">
            <h2>ğŸ“¹ Configurar TransmisiÃ³n</h2>
            <p class="admin-badge">MODO ADMINISTRADOR</p>
            
            <div style="margin-bottom: 15px; text-align: left;">
                <label style="margin-right: 10px;">
                    <input type="radio" name="streamType" value="fixed" checked onchange="toggleStreamType()"> HabitaciÃ³n Fija
                </label>
                <label>
                    <input type="radio" name="streamType" value="custom" onchange="toggleStreamType()"> Mascota/Extra
                </label>
            </div>

            <div id="fixed-room-section">
                <select id="reg-room-id" class="input-field">
                    <option value="recepcion">ğŸ¨ RecepciÃ³n</option>
                    <option value="juegos">ğŸ¾ Zona de Juegos</option>
                    <option value="vet">ğŸ©º Consultorio Vet</option>
                    <option value="bano">ğŸ› Ãrea de BaÃ±o</option>
                    
                    <optgroup label="Zona Gatos">
                        <option value="gato1">ğŸ± Cuarto Gato 1</option>
                        <option value="gato2">ğŸ± Cuarto Gato 2</option>
                        <option value="gato3">ğŸ± Cuarto Gato 3</option>
                        <option value="gato4">ğŸ± Cuarto Gato 4</option>
                        <option value="gato5">ğŸ± Cuarto Gato 5</option>
                    </optgroup>

                    <optgroup label="Zona Perros A">
                        <option value="perroA1">ğŸ¶ Perro A-1</option>
                        <option value="perroA2">ğŸ¶ Perro A-2</option>
                        <option value="perroA3">ğŸ¶ Perro A-3</option>
                        <option value="perroA4">ğŸ¶ Perro A-4</option>
                        <option value="perroA5">ğŸ¶ Perro A-5</option>
                    </optgroup>

                    <optgroup label="Zona Perros B">
                        <option value="perroB1">ğŸ• Perro B-1</option>
                        <option value="perroB2">ğŸ• Perro B-2</option>
                        <option value="perroB3">ğŸ• Perro B-3</option>
                        <option value="perroB4">ğŸ• Perro B-4</option>
                        <option value="perroB5">ğŸ• Perro B-5</option>
                    </optgroup>
                </select>
            </div>

            <div id="custom-room-section" class="hidden">
                <input type="text" id="custom-pet-name" placeholder="Nombre de la Mascota (Ej: Firulais)" class="input-field">
                <select id="custom-pet-type" class="input-field">
                    <option value="ğŸ¶">Perro</option>
                    <option value="ğŸ±">Gato</option>
                    <option value="ğŸ°">Otro</option>
                </select>
            </div>

            <div class="button-group">
                <button class="btn-secondary-monitoreo" onclick="uiGoBack()">Salir</button>
                <button class="btn-main-monitoreo" onclick="startCameraMode()">ğŸ”´ Iniciar Live</button>
            </div>
        </div>

        <div class="map-wrapper hidden" id="viewer-map">
            <div class="map-header">
                <div style="text-align: left;">
                    <h2>ğŸ—ºï¸ Mapa en Vivo</h2>
                    <div class="map-legend">
                        <span class="legend-item"><span class="dot green"></span> En Vivo</span>
                        <span class="legend-item"><span class="dot gray"></span> Desconectado</span>
                    </div>
                </div>
                <button class="btn-secondary-monitoreo" style="width: auto; margin:0;" onclick="uiGoBack()">Volver</button>
            </div>
            
            <p id="map-status-text" style="color: var(--color-primary); font-size: 0.9em; margin-bottom: 10px;">
                Escaneando cÃ¡maras activas...
            </p>

            <div class="blueprint-container">
                <div class="blueprint-grid">
                    <div class="room area-recepcion" data-room="recepcion" onclick="connectToRoom('recepcion')"><span>RecepciÃ³n</span><div class="cam-icon">ğŸ“·</div></div>
                    <div class="room area-vet" data-room="vet" onclick="connectToRoom('vet')"><span>Vet</span><div class="cam-icon">ğŸ“·</div></div>
                    <div class="room area-bano" data-room="bano" onclick="connectToRoom('bano')"><span>BaÃ±o</span><div class="cam-icon">ğŸ“·</div></div>
                    <div class="room area-juegos" data-room="juegos" onclick="connectToRoom('juegos')"><span>Zona Juegos</span><div class="cam-icon">ğŸ“·</div></div>

                    <div class="room-group cats">
                        <div class="sub-room" data-room="gato1" onclick="connectToRoom('gato1')">ğŸ± 1</div>
                        <div class="sub-room" data-room="gato2" onclick="connectToRoom('gato2')">ğŸ± 2</div>
                        <div class="sub-room" data-room="gato3" onclick="connectToRoom('gato3')">ğŸ± 3</div>
                        <div class="sub-room" data-room="gato4" onclick="connectToRoom('gato4')">ğŸ± 4</div>
                        <div class="sub-room" data-room="gato5" onclick="connectToRoom('gato5')">ğŸ± 5</div>
                    </div>

                    <div class="room-group dogs-a">
                        <div class="sub-room" data-room="perroA1" onclick="connectToRoom('perroA1')">ğŸ¶ A1</div>
                        <div class="sub-room" data-room="perroA2" onclick="connectToRoom('perroA2')">ğŸ¶ A2</div>
                        <div class="sub-room" data-room="perroA3" onclick="connectToRoom('perroA3')">ğŸ¶ A3</div>
                        <div class="sub-room" data-room="perroA4" onclick="connectToRoom('perroA4')">ğŸ¶ A4</div>
                        <div class="sub-room" data-room="perroA5" onclick="connectToRoom('perroA5')">ğŸ¶ A5</div>
                    </div>

                    <div class="room-group dogs-b">
                        <div class="sub-room" data-room="perroB1" onclick="connectToRoom('perroB1')">ğŸ• B1</div>
                        <div class="sub-room" data-room="perroB2" onclick="connectToRoom('perroB2')">ğŸ• B2</div>
                        <div class="sub-room" data-room="perroB3" onclick="connectToRoom('perroB3')">ğŸ• B3</div>
                        <div class="sub-room" data-room="perroB4" onclick="connectToRoom('perroB4')">ğŸ• B4</div>
                        <div class="sub-room" data-room="perroB5" onclick="connectToRoom('perroB5')">ğŸ• B5</div>
                    </div>
                </div>
            </div>
            
            <div class="manual-input-link">
                <p>Â¿Buscas una cÃ¡mara privada? <a href="#" onclick="toggleManualInput()">Ingresa el nombre aquÃ­</a></p>
                <div id="manual-input-box" class="hidden" style="margin-top:10px; display:flex; gap:10px; justify-content:center;">
                    <input type="text" id="view-pet-id" placeholder="Nombre mascota (Ej: Firulais)" class="input-field" style="width:200px; margin:0;">
                    <button class="btn-main-monitoreo" style="width:auto; margin:0;" onclick="startViewerMode()">Buscar</button>
                </div>
            </div>
        </div>

        <div class="video-container hidden" id="video-screen">
            <div class="video-header">
                <div style="display: flex; align-items: center; flex-wrap: wrap;">
                    <span class="live-indicator">ğŸ”´ EN VIVO</span>
                    <span id="video-info-text" style="margin-left: 10px; font-weight: 600; text-shadow: 1px 1px 2px rgba(0,0,0,0.8);">Cargando...</span>
                    
                    <select id="live-location-selector" class="live-selector hidden" onchange="updateLiveLocation()">
                         <option value="recepcion">ğŸ¨ RecepciÃ³n</option>
                         <option value="juegos">ğŸ¾ Juegos</option>
                         <option value="vet">ğŸ©º Vet</option>
                    </select>
                </div>
                <button class="btn-close" onclick="uiShowMap()">âœ– Mapa</button>
            </div>
            
            <video id="remote-video" autoplay playsinline muted></video>
            
            <div id="status-msg-container">
                <p id="status-msg">Conectando...</p>
            </div>
        </div>

    </main>

    <footer class="footer-monitoreo">
        <p>&copy; 2025 DOGLAND Monitoreo.</p>
    </footer>

    <script src="app.js"></script>
</body>
</html>

